---
import { updateBitcoinPrice } from "@features/layout/header/Header/Header.functions";
import btc from "../../../../assets/btc.svg";

const btcPrice = await updateBitcoinPrice();
---

<script>
  import { updateBitcoinPrice } from "@features/layout/header/Header/Header.functions";

  updateBitcoinPrice();
  // update bicoin price every 30 seconds
  setInterval(async () => {
    const btcPrice = await updateBitcoinPrice();
    const tickerElement = document.getElementById("btc_price");
    if (tickerElement && btcPrice) {
      tickerElement.innerText = `${btcPrice} $`;
    }
  }, 30000);
</script>

<p class="btc-ticker">
  <img
    loading="eager"
    src={btc.src}
    alt="bitcoin logo"
    width="30"
    height="30"
  />
  <span id="btc_price"> {btcPrice} $</span>
</p>

<style>
  .btc-ticker {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    font-weight: 600;
    color: var(--blue-950);
    margin-right: 1rem;
  }

  .btc-ticker img {
    margin-right: 0.5rem;
    max-width: 20px;
  }
</style>
